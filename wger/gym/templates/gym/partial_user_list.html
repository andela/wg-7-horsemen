{% load i18n staticfiles %}

<link rel="stylesheet" type="text/css" href="{% static 'bower_components/datatables/media/css/dataTables.bootstrap.min.css' %}">
<script src="{% static 'bower_components/datatables/media/js/jquery.dataTables.min.js' %}" ></script>
<script src="{% static 'bower_components/datatables/media/js/dataTables.bootstrap.min.js' %}" ></script>
<script>
$(document).ready( function () {
    /* Make table sortable */
    $('#main_member_list').DataTable({
        paging: false,
        bFilter: true,
        bInfo : false
    });
});

$(document).ready(function(){
	
	$('ul.tabs li').click(function(){
		var tab_id = $(this).attr('data-tab');

		$('ul.tabs li').removeClass('current');
		$('.tab-content').removeClass('current');

		$(this).addClass('current');
		$("#"+tab_id).addClass('current');
	})

})

</script>

<style>
ul.tabs{
    margin: 0px;
    padding: 0px;
    list-style: none;
}
ul.tabs li{
    background: none;
    color: #222;
    display: inline-block;
    padding: 10px 15px;
    cursor: pointer;
}

ul.tabs li.current{
    background: #ededed;
    color: #222;
}

.tab-content{
    display: none;
    padding: 15px;
}

.tab-content.current{
    display: inherit;
}
</style>

<div class="container">

	<ul class="tabs">
		<li class="tab-link current" data-tab="tab-1">Overview</li>
		<li class="tab-link" data-tab="tab-2">Active Users</li>
		<li class="tab-link" data-tab="tab-3">Inactive Users</li>
	</ul>

	<div id="tab-1" class="tab-content current">
            <table class="table table-hover" id="main_member_list">
                    <thead>
                    <tr>
                        {% for key in user_table.keys %}
                            <th>{{ key }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for current_user in user_table.users %}
                    <tr>
                        <td>
                            {{current_user.obj.pk}}
                        </td>
                        <td>
                            <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
                        </td>
                        <td>
                            {{current_user.obj.get_full_name}}
                        </td>
                        <td data-order="{{current_user.last_log|date:'U'}}">
                            {{current_user.last_log|default:'-/-'}}
                        </td>
                        {% if show_gym %}
                        <td>
                            {% if current_user.obj.userprofile.gym_id %}
                                <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                                {{ current_user.obj.userprofile.gym }}
                                </a>
                            {% else %}
                                -/-
                            {% endif %}
                        </td>
                        
                        {% endif %}
                    </tr>
                    {% endfor %}
                    </tbody>
                    </table>
	</div>
	<div id="tab-2" class="tab-content">
            <table class="table table-hover" id="main_member_list">
                    <thead>
                    <tr>
                        {% for key in user_table.keys %}
                            <th>{{ key }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for current_user in user_table.users %}
                    {% if current_user.obj.is_active %}
                    <tr>
                        <td>
                            {{current_user.obj.pk}}
                        </td>
                        <td>
                            <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
                        </td>
                        <td>
                            {{current_user.obj.get_full_name}}
                        </td>
                        <td data-order="{{current_user.last_log|date:'U'}}">
                            {{current_user.last_log|default:'-/-'}}
                        </td>
                        {% if show_gym %}
                        <td>
                            {% if current_user.obj.userprofile.gym_id %}
                                <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                                {{ current_user.obj.userprofile.gym }}
                                </a>
                            {% else %}
                                -/-
                            {% endif %}
                        </td>
                        
                        {% endif %}
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                    </table>
	</div>
	<div id="tab-3" class="tab-content">
            <table class="table table-hover" id="main_member_list">
                    <thead>
                    <tr>
                        {% for key in user_table.keys %}
                            <th>{{ key }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for current_user in user_table.users %}
                    {% if not current_user.obj.is_active %}
                    <tr>
                        <td>
                            {{current_user.obj.pk}}
                        </td>
                        <td>
                            <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
                        </td>
                        <td>
                            {{current_user.obj.get_full_name}}
                        </td>
                        <td data-order="{{current_user.last_log|date:'U'}}">
                            {{current_user.last_log|default:'-/-'}}
                        </td>
                        {% if show_gym %}
                        <td>
                            {% if current_user.obj.userprofile.gym_id %}
                                <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                                {{ current_user.obj.userprofile.gym }}
                                </a>
                            {% else %}
                                -/-
                            {% endif %}
                        </td>

                        {% endif %}
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                    </table>
	</div>

</div>